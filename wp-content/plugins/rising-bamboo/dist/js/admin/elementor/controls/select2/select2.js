(()=>{"use strict";const e=function(e){return null==e||""===e};var t=wp.i18n.__;window.addEventListener("elementor/init",(function(){var n=elementor.modules.controls.Select2.extend({getSelect2Placeholder:function(){return{id:"",text:t("All","rbb-core")}},getPreOptions:function(){var e=this,t=this.getControlValue();t&&(_.isArray(t)||(t=[t]),jQuery.ajax({type:"POST",url:this.model.get("select2options").ajax.url,data:{ids:t},beforeSend:function(){e.addControlSpinner()},success:function(t){e.isPreOptionsReceived=!0,e.render(),t.results.forEach((function(t){var n=new Option(t.text,t.id,!0,!0);e.ui.select.append(n)})),e.ui.select.trigger("change")}}))},addControlSpinner:function(){this.ui.select.prop("disabled",!0),this.$el.find(".elementor-control-title").after('<span class="elementor-control-spinner">&nbsp;<i class="eicon-spinner eicon-animation-spin"></i>&nbsp;</span>')},onReady:function(){var e=this;this.ui.select.on("select2:unselect",(function(t){var n=t.params.data;e.ui.select.find('option[value="'+n.id+'"]').detach(),e.ui.select.trigger("change")})),this.useAjax()&&!this.isPreOptionsReceived&&this.getPreOptions()},useAjax:function(){return!e(this.model.get("select2options").ajax)}});elementor.addControlView("rbb-select2",n)}))})();